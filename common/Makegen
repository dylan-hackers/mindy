##
##  $Header: /scm/cvs/src/common/Makegen,v 1.17 2003/02/02 03:50:42 brent Exp $
##
##  This is the makegen file for the libraries shared between d2c and mindy.
##

# the order is significant, since the d2c libraries must be compiled in
# dependency order. 

# These libraries are needed to compile d2c. They must compile against the
# runtime that shipped with 2.2.0.
@libraries_needed_to_bootstrap =
    ('streams', 'standard-io', 'print', 'format', 'collection-extensions',
     'table-ext', 'string-ext', 'regular-expressions', 'format-out', 'matrix',
     'time', 'stream-ext', 'transcendental', 'getopt', 'base-file-system');
    #'internal-time'

# These libraries have been introduced since 2.2.0. They may not be used by
# d2c, parsergen or any of the above libraries. Once common-dylan stabilizes,
# and most users can compile common-dylan programs, we'll drop backwards
# compatibility with 2.2.0 and port everything to build against these
# libraries.
@newer_libraries =
    ('threads', 'common-dylan', 'io', 'file-system', 'date', 'system', 
     'locators', 'network');

if ($enable_bootstrap) {
    &compile_subdirs(@libraries_needed_to_bootstrap);
} else {
    &compile_subdirs(@libraries_needed_to_bootstrap, @newer_libraries);
}

